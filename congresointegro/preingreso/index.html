<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro Congreso Sin L√≠mites</title>
    <link rel="stylesheet" href="/congresointegro/preingreso/styles.css">
</head>
<body>

    <img src="/imagenes/banner.jpg" alt="Banner Congreso" class="banner">

    <div class="form-container">
        <h1>Pre-Inscripci√≥n</h1>
        <p>CONGRESO SIN L√çMITES</p>

        <form id="registroForm">
            <input type="text" name="ticket" placeholder="N√∫mero de Ticket *" required>
            <input type="text" name="nombre" placeholder="Nombre completo *" required>
            <input type="email" name="email" placeholder="Correo electr√≥nico (ejemplo@ejemplo.com)" pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$">

            <select name="departamento" id="departamento" required size="1">
                <option value="">Selecciona un Departamento *</option>
            </select>

            <select name="municipio" id="municipio" required size="1">
                <option value="">Selecciona un Municipio *</option>
            </select>

            <input type="text" name="direccion" placeholder="Direcci√≥n exacta *" required>
            <input type="tel" name="telefono" placeholder="N√∫mero de tel√©fono *" pattern="^\d{8}$" required title="Ingrese un n√∫mero de tel√©fono v√°lido">
            <input type="number" name="edad" placeholder="Edad (ejemplo: 5, 10, 23)" min="0" title="Ingrese solo n√∫meros.">
            <input type="text" name="iglesia" placeholder="Iglesia o Denominaci√≥n">
            <button type="submit">Enviar</button>
        </form>

        <p id="respuesta"></p>
    </div>

    <!-- Modal de Confirmaci√≥n -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <p>üéâ ¬°Registro exitoso! Gracias por registrarte.</p>
            <button onclick="cerrarModal()">Cerrar</button>
        </div>
    </div>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbyz9lE34tuVEFRrkKtk1yYvqK5tU39AVbGbym23jUeluaFnSot_PGQ6fi5xQ2hIyZQM/exec';
        const form = document.getElementById('registroForm');
        const modal = document.getElementById('modal');

        form.addEventListener('submit', e => {
            e.preventDefault();

            // Marca que se intent√≥ validar el formulario
    form.classList.add('was-validated');

            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            fetch(scriptURL, {
                method: 'POST',
                body: new FormData(form)
            })
            .then(response => {
                form.reset();
                mostrarModal();
            })
            .catch(error => {
                console.error('Error:', error);
                alert("‚ö†Ô∏è Ocurri√≥ un error. Intenta de nuevo.");
            });
        });

        function mostrarModal() {
            modal.style.display = 'flex';
        }

        function cerrarModal() {
            modal.style.display = 'none';
        }

        // Aqu√≠ inicia la l√≥gica de los selects dependientes

    const departamentos = ["Alta Verapaz", "Baja Verapaz", "Chimaltenango", "Chiquimula", "El Progreso", "Escuintla", "Guatemala", "Huehuetenango", "Izabal", "Jalapa", "Jutiapa", "Pet√©n", "Quetzaltenango", "Quich√©", "Retalhuleu", "Sacatep√©quez", "San Marcos", "Santa Rosa", "Solol√°", "Suchitep√©quez", "Totonicap√°n", "Zacapa"];

const municipios = {
    "Alta Verapaz": ["Cob√°n", "Santa Cruz Verapaz", "San Crist√≥bal Verapaz", "Tactic", "Tamah√∫", "San Miguel Tucur√∫", "Panz√≥s", "Senah√∫", "San Pedro Carch√°", "San Juan Chamelco", "Lanqu√≠n", "Cahab√≥n", "Chisec", "Chahal", "Fray Bartolom√© de las Casas", "Santa Catalina La Tinta", "Raxruh√°"],
  "Baja Verapaz": ["Salam√°", "San Miguel Chicaj", "Rabinal", "Cubulco", "Granados", "Santa Cruz El Chol", "San Jer√≥nimo", "Purulh√°"],
  "Chimaltenango": ["Chimaltenango", "San Jos√© Poaquil", "San Mart√≠n Jilotepeque", "Comalapa", "Santa Apolonia", "Tecp√°n Guatemala", "Patz√∫n", "Pochuta", "Patzic√≠a", "Santa Cruz Balany√°", "Acatenango", "Yepocapa", "San Andr√©s Itzapa", "Parramos", "Zaragoza", "El Tejar"],
  "Chiquimula": ["Chiquimula", "San Jos√© La Arada", "San Juan Ermita", "Jocot√°n", "Camot√°n", "Olopa", "Esquipulas", "Concepci√≥n Las Minas", "Quetzaltepeque"],
  "El Progreso": ["Guastatoya", "Moraz√°n", "San Agust√≠n Acasaguastl√°n", "San Crist√≥bal Acasaguastl√°n", "El J√≠caro", "Sansare", "Sanarate", "San Antonio La Paz"],
  "Escuintla": ["Escuintla", "Santa Luc√≠a Cotzumalguapa", "La Democracia", "Siquinal√°", "Masagua", "Tiquisate", "La Gomera", "Guanagazapa", "San Jos√©", "Iztapa", "Pal√≠n", "San Vicente Pacaya", "Nueva Concepci√≥n"],
  "Guatemala": ["Guatemala", "Santa Catarina Pinula", "San Jos√© Pinula", "San Jos√© del Golfo", "Palencia", "Chinautla", "San Pedro Ayampuc", "Mixco", "San Pedro Sacatep√©quez", "San Juan Sacatep√©quez", "San Raymundo", "Chuarrancho", "Fraijanes", "Amatitl√°n", "Villa Nueva", "Villa Canales", "Petapa"],
  "Huehuetenango": ["Huehuetenango", "Chiantla", "Malacatancito", "Cuilco", "Nent√≥n", "San Pedro Necta", "Jacaltenango", "San Pedro Soloma", "San Ildefonso Ixtahuac√°n", "Santa B√°rbara", "La Libertad", "La Democracia", "San Miguel Acat√°n", "San Rafael La Independencia", "San Juan Atit√°n", "Santa Eulalia", "San Mateo Ixtat√°n", "Colotenango", "San Sebasti√°n Huehuetenango", "Tectit√°n", "Concepci√≥n Huista", "San Juan Ixcoy", "San Antonio Huista", "San Sebasti√°n Coat√°n", "Barillas", "Aguacat√°n", "San Rafael Petzal", "San Gaspar Ixchil", "Santiago Chimaltenango", "Santa Ana Huista"],
  "Izabal": ["Puerto Barrios", "Livingston", "El Estor", "Morales", "Los Amates"],
  "Jalapa": ["Jalapa", "San Pedro Pinula", "San Luis Jilotepeque", "San Manuel Chaparr√≥n", "San Carlos Alzatate", "Monjas", "Mataquescuintla"],
  "Jutiapa": ["Jutiapa", "El Progreso", "Santa Catarina Mita", "Agua Blanca", "Asunci√≥n Mita", "Yupiltepeque", "Atescatempa", "Jerez", "El Adelanto", "Zapotitl√°n", "Comapa", "Jalpatagua", "Conguaco", "Moyuta", "Pasaco", "San Jos√© Acatempa", "Quesada"],
  "Pet√©n": ["Flores", "San Benito", "San Andr√©s", "La Libertad", "San Francisco", "Santa Ana", "Dolores", "San Luis", "Sayaxch√©", "Melchor de Mencos", "Popt√∫n", "Las Cruces", "El Chal"],
  "Quetzaltenango": ["Quetzaltenango", "Salcaj√°", "Olintepeque", "San Carlos Sija", "Sibilia", "Cabric√°n", "Cajol√°", "San Miguel Sig√ºil√°", "Ostuncalco", "San Mateo", "Concepci√≥n Chiquirichapa", "San Mart√≠n Sacatep√©quez", "Almolonga", "Cantel", "Huit√°n", "Zunil", "Colomba", "San Francisco La Uni√≥n", "El Palmar", "Coatepeque", "G√©nova", "Flores Costa Cuca", "La Esperanza", "Palestina de Los Altos"],
  "Quich√©": ["Santa Cruz del Quich√©", "Chich√©", "Chinique", "Zacualpa", "Chajul", "Chichicastenango", "Patzit√©", "San Antonio Ilotenango", "San Pedro Jocopilas", "Cun√©n", "San Juan Cotzal", "Joyabaj", "Nebaj", "San Andr√©s Sajcabaj√°", "Uspant√°n", "Sacapulas", "San Bartolom√© Jocotenango", "Canill√°", "Chicam√°n", "Ixc√°n", "Pachalum"],
  "Retalhuleu": ["Retalhuleu", "San Sebasti√°n", "Santa Cruz Mulu√°", "San Mart√≠n Zapotitl√°n", "San Felipe", "San Andr√©s Villa Seca", "Champerico", "Nuevo San Carlos", "El Asintal"],
  "Sacatep√©quez": ["Antigua Guatemala", "Jocotenango", "Pastores", "Sumpango", "Santo Domingo Xenacoj", "Santiago Sacatep√©quez", "San Bartolom√© Milpas Altas", "San Lucas Sacatep√©quez", "Santa Luc√≠a Milpas Altas", "Magdalena Milpas Altas", "Santa Mar√≠a de Jes√∫s", "Ciudad Vieja", "San Miguel Due√±as", "San Juan Alotenango", "San Antonio Aguas Calientes"],
  "San Marcos": ["San Marcos", "San Pedro Sacatep√©quez", "San Antonio Sacatep√©quez", "Comitancillo", "San Miguel Ixtahuac√°n", "Concepci√≥n Tutuapa", "Tacan√°", "Sibinal", "Tajumulco", "Tejutla", "San Rafael Pie de la Cuesta", "Nuevo Progreso", "El Tumbador", "San Jos√© El Rodeo", "Malacat√°n", "Catarina", "Ayutla", "Oc√≥s", "San Pablo", "El Quetzal", "La Reforma", "Pajapita", "Ixchigu√°n", "San Jos√© Ojetenam", "San Crist√≥bal Cucho", "Sipacapa", "Esquipulas Palo Gordo", "R√≠o Blanco", "San Lorenzo"],
  "Santa Rosa": ["Cuilapa", "Barberena", "Santa Rosa de Lima", "Casillas", "San Rafael Las Flores", "Oratorio", "San Juan Tecuaco", "Chiquimulilla", "Taxisco", "Santa Mar√≠a Ixhuat√°n", "Guazacap√°n", "Santa Cruz Naranjo", "Pueblo Nuevo Vi√±as", "Nueva Santa Rosa"],
  "Solol√°": ["Solol√°", "San Jos√© Chacay√°", "Santa Mar√≠a Visitaci√≥n", "Santa Luc√≠a Utatl√°n", "Nahual√°", "Santa Catarina Ixtahuac√°n", "Santa Clara La Laguna", "Concepci√≥n", "San Andr√©s Semetabaj", "Panajachel", "Santa Catarina Palop√≥", "San Antonio Palop√≥", "San Lucas Tolim√°n", "Santa Cruz La Laguna", "San Pablo La Laguna", "San Marcos La Laguna", "San Juan La Laguna", "San Pedro La Laguna", "Santiago Atitl√°n"],
  "Suchitep√©quez": ["Mazatenango", "Cuyotenango", "San Francisco Zapotitl√°n", "San Bernardino", "San Jos√© El Idolo", "Santo Domingo Suchitep√©quez", "San Lorenzo", "Samayac", "San Pablo Jocopilas", "San Antonio Suchitep√©quez", "San Miguel Pan√°n", "San Gabriel", "Chicacao", "Patulul", "Santa B√°rbara", "San Juan Bautista", "Santo Tom√°s La Uni√≥n", "Zunilito", "Pueblo Nuevo", "R√≠o Bravo"],
  "Totonicap√°n": ["Totonicap√°n", "San Crist√≥bal Totonicap√°n", "San Francisco El Alto", "San Andr√©s Xecul", "Momostenango", "Santa Mar√≠a Chiquimula", "Santa Luc√≠a La Reforma", "San Bartolo"],
  "Zacapa": ["Zacapa", "Estanzuela", "R√≠o Hondo", "Gual√°n", "Teculut√°n", "Usumatl√°n", "Caba√±as", "San Diego", "La Uni√≥n", "Huit√©"]
};

const departamentoSelect = document.getElementById('departamento');
const municipioSelect = document.getElementById('municipio');

// Llenar autom√°ticamente el select de departamentos
departamentos.forEach(dept => {
    const option = document.createElement('option');
    option.value = dept;
    option.text = dept;
    departamentoSelect.appendChild(option);
});

// Evento para actualizar los municipios al cambiar de departamento
departamentoSelect.addEventListener('change', function () {
    const selectedDept = this.value;
    municipioSelect.innerHTML = '<option value="">Selecciona un Municipio *</option>';

    if (municipios[selectedDept]) {
        municipios[selectedDept].forEach(mun => {
            const option = document.createElement('option');
            option.value = mun;
            option.text = mun;
            municipioSelect.appendChild(option);
        });
    }
});
    </script>

</body>
</html>


